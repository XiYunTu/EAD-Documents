### 引擎架构

EAD 平台架构被划分为四层。分成为**持久层**、**框架层**、**应用层**、**接口层**，如下图：

![PNG](..\images\1.png)

### 1. 核心设计思想

EAD 引擎基于 J2EE 开发平台，依赖于 Spring Cloud 框架进行构建。遵循 AOP 程序设计思想实现整个引擎生命周期的调度和管理。以微服务的形式抽象服务组件，统一为引擎提供通用服务接口。引擎遵循 Restful 风格完全面向 API 的开发模型，只负责业务数据 API 的组织和渲染输出，即保持了引擎开发的专注和简单，又可以使引擎成为更加通用的数据 API 服务提供平台。

#### Spring Cloud

Spring Cloud 提供的工具用于开发人员快速构建一些常见的模式在分布式系统（如配置管理，服务发现，路器隔断，智能路由，微代理，控制总线，一次性令牌，全局锁，领导竞选，分布式会话，群集状态）。

#### AOP

AOP为Aspect Oriented Programming的缩写，意为：面向切面编程，通过预编译方式和运行期动态代理实现程序功能的统一维护的一种技术。AOP是OOP的延续，是软件开发中的一个热点，也是Spring框架中的一个重要内容，是函数式编程的一种衍生范型。利用AOP可以对业务逻辑的各个部分进行隔离，从而使得业务逻辑各部分之间的耦合度降低，提高程序的可重用性，同时提高了开发的效率。

#### 微服务
微服务的基本思想在于考虑围绕着业务领域组件来创建应用，这些就应用可独立地进行开发、管理和加速。在分散的组件中使用微服务云架构和平台使部署、管理和服务功能交付变得更加简单。

### 2. 引擎架构层级

#### 持久层
通过 JDBC 支持主流关系型数据库进行业务数据持久化存储和查询，为引擎提供数据源。支持 NoSQL、GridFS 进行静态文件存储。支持使用 API Service 的形式（扩展驱动）将数据持久化到第三方应用系统。

#### 框架层
基于 J2EE 开发平台，依赖于 Spring Cloud 框架，遵循 AOP 编程思想构建包含配置管理、 ORM、应用服务组件的引擎运行时框架。

#### 应用层
基于框架层遵循 Restful 架构风格依次通过路由（Router）、服务中间件（Middleware）、参数组件（Param）、视图工厂组件（View Factory）、动作工厂组件（Action Factory）完成普通业务应用的请求响应。

#### 接口层
EAD 引擎完全遵循 Restful 风格对外提供 JSON 格式的数据视图以及流形式的静态文件。
